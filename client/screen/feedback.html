<!doctype html>
<html lang="vi">

<head>
  <meta charset="UTF-8" />
  <title>Phản hồi</title>
  <link rel="stylesheet" href="./public/styles/feedback.css">
</head>

<body>
  <div class="preferences">
    <div class="description">
      Trung tâm hỗ trợ của chúng tôi sẽ cập nhật các câu trả lời cho những câu hỏi thường gặp.
    </div>
    <div class="form-group">
      <label for="usename">Người phản hồi:</label>
      <input id="usename" type="text" placeholder="Nhập tên người phản hồi" />
    </div>
    <div class="form-group">
      <label for="issue">Vấn đề:</label>
      <input id="issue" type="text" placeholder="Tình trạng mạng gặp phải" />
    </div>
    <div class="form-group">
      <label for="location">Vị trí:</label>
      <input id="location" type="text" placeholder="Bạn đang sử dụng ở khu vực nào?" />
    </div>
    <div class="form-group">
      <label for="network">Mạng sử dụng:</label>
      <select id="network">
        <option value="Yopaz_WiFi">Yopaz_WiFi</option>
        <option value="Yopaz_LAN">Yopaz_LAN</option>
        <option value="Khác">Khác</option>
      </select>
    </div>

    <div class="form-group">
      <label for="type">Loại kết nối:</label>
      <select id="type">
        <option value="WiFi">WiFi</option>
        <option value="Dây">Dây</option>
      </select>
    </div>

    <div class="actions">
      <div class="note error-note">
        <svg xmlns="http://www.w3.org/2000/svg" class="error-icon" viewBox="0 0 24 24" width="16" height="16"
          fill="#FF4C4C">
          <path
            d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 15h-1v-1h2v1h-1zm0-3h-1V7h2v7h-1z" />
        </svg>
        <span>Không có mạng. Bạn có thể nhờ người khác gửi phản hồi giúp.</span>
      </div>
      <button class="primary" id="send-button">Gửi phản hồi</button>
    </div>
  </div>
</body>
<script>
  document.addEventListener('DOMContentLoaded', () => {
    const targetElement = document.body;
    const sendButton = document.getElementById('send-button');

    window.electronAPI.onNetworkStatusUpdate((status) => {
      console.log('Trạng thái mạng nhận được:', status);

      if (status === 'OFFLINE') {
        targetElement.classList.add('network-offline');
        sendButton.disabled = true;
      } else {
        targetElement.classList.remove('network-offline');
        sendButton.disabled = false;
      }
    });
  });
</script>

</html>