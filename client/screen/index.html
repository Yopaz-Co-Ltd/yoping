<!doctype html>
<html lang="en">

<head>
	<meta charset="UTF-8" />
	<link rel="icon" type="image/svg+xml" href="/vite.svg" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>Yopaz Yoping</title>
	<link rel="stylesheet" href="./public/styles/main.css">
</head>

<body>
	<div class="popover-tail"></div>
	<div class="container">
		<!-- Phần trạng thái -->
		<div class="status-box">
			<div class="status-header">
				<div>
					<div class="status-title">
						<span class="status-indicator"></span> <h2 class="status-text"></h2>
					</div>
					<div class="ssid">{{ ssid }}</div>
				</div>

				<div class="more-icon">
					<svg xmlns="http://www.w3.org/2000/svg" width="20" height="28" fill="currentColor"
						viewBox="0 0 24 24">
						<circle cx="12" cy="7" r="1.8" />
						<circle cx="12" cy="16" r="1.8" />
						<circle cx="12" cy="25" r="1.8" />
					</svg>
				</div>
			</div>

			<div class="divider"></div>

			<div class="ping-info">
				<div class="ping-block">
					<h2>300 <span style="font-size:14px;">ms</span></h2>
					<p>Ping nội bộ</p>
				</div>
				<div class="ping-block timeout">
					<h2>Timeout</h2>
					<p>Ping ra Internet</p>
				</div>
			</div>
		</div>
		<img id="netIcon" src="./public/images/global.svg" style="display:none">
		<img id="routerIcon" src="./public/images/router.png" style="display:none">
		<img id="plugIcon" src="./public/images/plug.svg" style="display:none">
		<img id="windowsIcon" src="./public/images/windows.svg" style="display:none">
		<img id="linuxIcon" src="./public/images/linux.svg" style="display:none">
		<img id="macIcon" src="./public/images/macos.svg" style="display:none">


		<!-- Canvas phần dưới -->
		<div class="diagram-container">
			<canvas id="line-diagram" width="375" height="300"></canvas>
			<canvas id="motion-diagram" width="375" height="300"></canvas>
			<canvas id="device-diagram" width="375" height="300"></canvas>
		</div>
	</div>
</body>
<script src="./public/scripts/main.js"></script>
<script src="./public/scripts/feedback.js"></script>
<script>
document.addEventListener('DOMContentLoaded', () => {
    const statusBox = document.querySelector('.status-box');
    const statusIndicator = statusBox.querySelector('.status-indicator');
    const statusText = statusBox.querySelector('.status-text');
	const popoverTail = document.querySelector('.popover-tail');

    const NETWORK_STATUS_STATES = {
        GOOD: 'good',
        SLOW: 'slow',
        OFFLINE: 'offline'
    };

    const statusOrder = [
        NETWORK_STATUS_STATES.GOOD,
        NETWORK_STATUS_STATES.SLOW,
        NETWORK_STATUS_STATES.OFFLINE
    ];

    function updateNetworkStatusUI(status) {
        statusBox.classList.remove('network-good', 'network-slow', 'network-offline');
		popoverTail.classList.remove('network-good', 'network-slow', 'network-offline');

        switch (status) {
            case NETWORK_STATUS_STATES.GOOD:
                statusBox.classList.add('network-good');
				popoverTail.classList.add('network-good');
                statusText.textContent = 'Mạng ổn định';
                break;
            case NETWORK_STATUS_STATES.SLOW:
                statusBox.classList.add('network-slow');
				popoverTail.classList.add('network-slow');
                statusText.textContent = 'Mạng chậm';
                break;
            case NETWORK_STATUS_STATES.OFFLINE:
                statusBox.classList.add('network-offline');
				popoverTail.classList.add('network-offline');
                statusText.textContent = 'Mất kết nối';
                break;
            default:
                statusBox.classList.add('network-good');
				popoverTail.classList.add('network-good');
                statusText.textContent = 'Kiểm tra kết nối...';
                break;
        }
    }

    updateNetworkStatusUI('offline');
});
</script>
</html>